#include "MenuTD.h"

MenuTD::MenuTD(EcranV *ecr):ecr(ecr){
	initialiserSalementLeMenu();
}

EcranV *MenuTD::getEcranV() {
	return this->ecr;
}

void MenuTD::afficher(Tour *t, int gold, int pv, int round){
	if(gold>999){
		tab[1][4] = 48+(int)(gold/1000);
		tab[1][5] = 48+(int)((gold%1000)/100);
			tab[1][6] = 48+(int)((gold%100)/10);
			tab[1][7] = 48+(int)(gold%10);
	}
	else if(gold>99){
		tab[1][4] = 48+(int)(gold/100);
		tab[1][5] = 48+(int)((gold%100)/10);
		tab[1][6] = 48+(int)(gold%10);
		tab[1][7] = 32;
	}
	else if(gold>9){
		tab[1][4] = 48+(int)(gold/10);
		tab[1][5] = 48+(int)(gold%10);
		tab[1][6] = 32;
		tab[1][7] = 32;
	}
	else{
		tab[1][4] = 48+(int)(gold%10);
		tab[1][5] = 32;
		tab[1][6] = 32;
		tab[1][7] = 32;
	}

	if(pv>9){
		tab[2][4] = 48+(int)(pv/10);
		tab[2][5] = 48+(int)(pv%10);
	}
	else{
		tab[2][4] = 48+(int)(pv%10);
		tab[2][5] = 32;
	}
	if(round>9){
		tab[3][7] = 49+(int)(round/10);
		tab[3][8] = 49+(int)(round%10);
	}
	else{
		tab[3][7] = 49+(int)(round%10);
		tab[3][8] = 32;
	}
	if(t==0){
		modeConstruction();
	}
	else{
		modeUpgrade(t);
	}

	for(int i=0;i<25;i++) {
		for(int j=0;j<10;j++) {
			this->getEcranV()->afficherCaractere(i, 70+j,JAUNE,NOIR,(char) tab[i][j]);
		}
	}
}

void MenuTD::modeUpgrade(Tour *t){

		tab[6][0] = 195;
		tab[6][1] = 196;
		tab[6][2] = 196;
		tab[6][3] = 196;
		tab[6][4] = 196;
		tab[6][5] = 196;
		tab[6][6] = 196;
		tab[6][7] = 196;
		tab[6][8] = 196;
		tab[6][9] = 180;

		tab[7][0] = 179;
		tab[7][1] = 99;
		tab[7][2] = 97;
		tab[7][3] = 114;
		tab[7][4] = 97;
		tab[7][5] = 99;
		tab[7][6] = 32;
		tab[7][7] = 100;
		tab[7][8] = 101;
		tab[7][9] = 179;

		tab[8][0] = 179;
		tab[8][1] = 108;
		tab[8][2] = 97;
		tab[8][3] = 32;
		tab[8][4] = 116;
		tab[8][5] = 111;
		tab[8][6] = 117;
		tab[8][7] = 114;
		tab[8][8] = t->logo; //icone de la tour
		tab[8][9] = 179;

		tab[9][0] = 195;
		tab[9][1] = 196;
		tab[9][2] = 196;
		tab[9][3] = 196;
		tab[9][4] = 196;
		tab[9][5] = 196;
		tab[9][6] = 196;
		tab[9][7] = 196;
		tab[9][8] = 196;
		tab[9][9] = 180;

		tab[10][0] = 179;
		tab[10][1] = 32;
		tab[10][2] = 116;
		tab[10][3] = 121;
		tab[10][4] = 112;
		tab[10][5] = 101;
		tab[10][6] = 58;
		tab[10][7] = (int)t->caractere;//type de la tour
		tab[10][8] = 32;
		tab[10][9] = 179;

		tab[11][0] = 195;
		tab[11][1] = 196;
		tab[11][2] = 196;
		tab[11][3] = 196;
		tab[11][4] = 196;
		tab[11][5] = 196;
		tab[11][6] = 196;
		tab[11][7] = 196;
		tab[11][8] = 196;
		tab[11][9] = 180;

		tab[12][0] = 179;
		tab[12][1] = 110;
		tab[12][2] = 105;
		tab[12][3] = 118;
		tab[12][4] = 101;
		tab[12][5] = 97;
		tab[12][6] = 117;
		tab[12][7] = 58;
		tab[12][8] = 48 + t->niveau;//niveau de la tour
		tab[12][9] = 179;

		//menu bat/unit

		tab[13][0] = 195;
		tab[13][1] = 196;
		tab[13][2] = 196;
		tab[13][3] = 196;
		tab[13][4] = 196;
		tab[13][5] = 196;
		tab[13][6] = 196;
		tab[13][7] = 196;
		tab[13][8] = 196;
		tab[13][9] = 180;

		tab[14][0] = 179;
		tab[14][1] = 32;
		tab[14][2] = 117;
		tab[14][3] = 32;
		tab[14][4] = 112;
		tab[14][5] = 111;
		tab[14][6] = 117;
		tab[14][7] = 114;
		tab[14][8] = 32;
		tab[14][9] = 179;

		tab[15][0] = 179;
		tab[15][1] = 117;
		tab[15][2] = 112;
		tab[15][3] = 103;
		tab[15][4] = 114;
		tab[15][5] = 97;
		tab[15][6] = 100;
		tab[15][7] = 101;
		tab[15][8] = 114;
		tab[15][9] = 179;

}

void MenuTD::modeConstruction(){

	tab[6][0] = 195;
	tab[6][1] = 196;
	tab[6][2] = 196;
	tab[6][3] = 196;
	tab[6][4] = 194;
	tab[6][5] = 194;
	tab[6][6] = 196;
	tab[6][7] = 196;
	tab[6][8] = 196;
	tab[6][9] = 180;

	tab[7][0] = 179;
	tab[7][1] = 32;
	tab[7][2] = 8; //Logo degat
	tab[7][3] = 32;
	tab[7][4] = 179;
	tab[7][5] = 179;
	tab[7][6] = 32;
	tab[7][7] = 42; //Logo slow
	tab[7][8] = 32;
	tab[7][9] = 179;

	tab[8][0] = 179;
	tab[8][1] = 100;
	tab[8][2] = 103;
	tab[8][3] = 116;
	tab[8][4] = 179;
	tab[8][5] = 179;
	tab[8][6] = 115;
	tab[8][7] = 108;
	tab[8][8] = 119;
	tab[8][9] = 179;

	tab[9][0] = 179;
	tab[9][1] = 32;
	tab[9][2] = 100;
	tab[9][3] = 32;
	tab[9][4] = 179;
	tab[9][5] = 179;
	tab[9][6] = 32;
	tab[9][7] = 115;
	tab[9][8] = 32;
	tab[9][9] = 179;

	tab[10][0] = 195;
	tab[10][1] = 196;
	tab[10][2] = 196;
	tab[10][3] = 196;
	tab[10][4] = 197;
	tab[10][5] = 197;
	tab[10][6] = 196;
	tab[10][7] = 196;
	tab[10][8] = 196;
	tab[10][9] = 180;

	//menu bat/unit

	tab[11][0] = 179;
	tab[11][1] = 32;
	tab[11][2] = 10; //Logo zone
	tab[11][3] = 32;
	tab[11][4] = 179;
	tab[11][5] = 179;
	tab[11][6] = 32;
	tab[11][7] = 15; //Logo paralysie
	tab[11][8] = 32;
	tab[11][9] = 179;

	tab[12][0] = 179;
	tab[12][1] = 122;
	tab[12][2] = 111;
	tab[12][3] = 110;
	tab[12][4] = 179;
	tab[12][5] = 179;
	tab[12][6] = 112;
	tab[12][7] = 97;
	tab[12][8] = 114;
	tab[12][9] = 179;

	tab[13][0] = 179;
	tab[13][1] = 32;
	tab[13][2] = 122;
	tab[13][3] = 32;
	tab[13][4] = 179;
	tab[13][5] = 179;
	tab[13][6] = 32;
	tab[13][7] = 112;
	tab[13][8] = 32;
	tab[13][9] = 179;

	tab[14][0] = 195;
	tab[14][1] = 196;
	tab[14][2] = 196;
	tab[14][3] = 196;
	tab[14][4] = 193;
	tab[14][5] = 193;
	tab[14][6] = 196;
	tab[14][7] = 196;
	tab[14][8] = 196;
	tab[14][9] = 180;

	tab[15][0] = 179;
	tab[15][1] = 32;
	tab[15][2] = 32;
	tab[15][3] = 32;
	tab[15][4] = 32;
	tab[15][5] = 32;
	tab[15][6] = 32;
	tab[15][7] = 32;
	tab[15][8] = 32;
	tab[15][9] = 179;

	tab[16][0] = 179;
	tab[16][1] = 32;
	tab[16][2] = 32;
	tab[16][3] = 32;
	tab[16][4] = 32;
	tab[16][5] = 32;
	tab[16][6] = 32;
	tab[16][7] = 32;
	tab[16][8] = 32;
	tab[16][9] = 179;

	tab[17][0] = 179;
	tab[17][1] = 32;
	tab[17][2] = 32;
	tab[17][3] = 32;
	tab[17][4] = 32;
	tab[17][5] = 32;
	tab[17][6] = 32;
	tab[17][7] = 32;
	tab[17][8] = 32;
	tab[17][9] = 179;

	tab[18][0] = 179;
	tab[18][1] = 32;
	tab[18][2] = 32;
	tab[18][3] = 32;
	tab[18][4] = 32;
	tab[18][5] = 32;
	tab[18][6] = 32;
	tab[18][7] = 32;
	tab[18][8] = 32;
	tab[18][9] = 179;

	tab[19][0] = 179;
	tab[19][1] = 32;
	tab[19][2] = 32;
	tab[19][3] = 32;
	tab[19][4] = 32;
	tab[19][5] = 32;
	tab[19][6] = 32;
	tab[19][7] = 32;
	tab[19][8] = 32;
	tab[19][9] = 179;

	tab[20][0] = 179;
	tab[20][1] = 32;
	tab[20][2] = 32;
	tab[20][3] = 32;
	tab[20][4] = 32;
	tab[20][5] = 32;
	tab[20][6] = 32;
	tab[20][7] = 32;
	tab[20][8] = 32;
	tab[20][9] = 179;
}

void MenuTD::initialiserSalementLeMenu(){
	tab[0][0] = 218;
	tab[0][1] = 196;
	tab[0][2] = 196;
	//MENU
	tab[0][3] = 77;
	tab[0][4] = 69;
	tab[0][5] = 78;
	tab[0][6] = 85;

	tab[0][7] = 196;
	tab[0][8] = 196;
	tab[0][9] = 191;

	tab[1][0] = 179;
	//Or:
	tab[1][1] = 79;
	tab[1][2] = 114;
	tab[1][3] = 58;
	tab[1][4] = 32;
	tab[1][5] = 32;
	tab[1][6] = 32;
	tab[1][7] = 32;
	tab[1][8] = 32;
	tab[1][9] = 179;

	tab[2][0] = 179;
	//Bois:
	tab[2][1] = 80;
	tab[2][2] = 86;
	tab[2][3] = 58;
	tab[2][4] = 32;
	tab[2][5] = 32;
	tab[2][6] = 32;
	tab[2][7] = 32;
	tab[2][8] = 32;
	tab[2][9] = 179;

	tab[3][0] = 179;
	//Pop:
	tab[3][1] = 86;
	tab[3][2] = 97;
	tab[3][3] = 103;
	tab[3][4] = 117;
	tab[3][5] = 101;
	tab[3][6] = 58;
	tab[3][7] = 32;
	tab[3][8] = 32;
	tab[3][9] = 179;

	tab[4][0] = 195;
	tab[4][1] = 196;
	tab[4][2] = 196;
	tab[4][3] = 196;
	tab[4][4] = 196;
	tab[4][5] = 196;
	tab[4][6] = 196;
	tab[4][7] = 196;
	tab[4][8] = 196;
	tab[4][9] = 180;

	tab[5][0] = 195;
	tab[5][1] = 67;
	tab[5][2] = 114;
	tab[5][3] = 130;
	tab[5][4] = 97;
	tab[5][5] = 116;
	tab[5][6] = 105;
	tab[5][7] = 111;
	tab[5][8] = 110;
	tab[5][9] = 180;

	tab[6][0] = 195;
	tab[6][1] = 196;
	tab[6][2] = 196;
	tab[6][3] = 196;
	tab[6][4] = 194;
	tab[6][5] = 194;
	tab[6][6] = 196;
	tab[6][7] = 196;
	tab[6][8] = 196;
	tab[6][9] = 180;

	tab[7][0] = 179;
	tab[7][1] = 32;
	tab[7][2] = 1;
	tab[7][3] = 32;
	tab[7][4] = 179;
	tab[7][5] = 179;
	tab[7][6] = 32;
	tab[7][7] = 2;
	tab[7][8] = 32;
	tab[7][9] = 179;

	tab[8][0] = 179;
	tab[8][1] = 80;
	tab[8][2] = 97;
	tab[8][3] = 121;
	tab[8][4] = 179;
	tab[8][5] = 179;
	tab[8][6] = 71;
	tab[8][7] = 117;
	tab[8][8] = 101;
	tab[8][9] = 179;

	tab[9][0] = 179;
	tab[9][1] = 32;
	tab[9][2] = 32;
	tab[9][3] = 32;
	tab[9][4] = 179;
	tab[9][5] = 179;
	tab[9][6] = 32;
	tab[9][7] = 32;
	tab[9][8] = 32;
	tab[9][9] = 179;

	tab[10][0] = 195;
	tab[10][1] = 196;
	tab[10][2] = 196;
	tab[10][3] = 196;
	tab[10][4] = 193;
	tab[10][5] = 193;
	tab[10][6] = 196;
	tab[10][7] = 196;
	tab[10][8] = 196;
	tab[10][9] = 180;

	//menu bat/unit

	tab[11][0] = 179;
	tab[11][1] = 32;
	tab[11][2] = 32;
	tab[11][3] = 32;
	tab[11][4] = 32;
	tab[11][5] = 32;
	tab[11][6] = 32;
	tab[11][7] = 32;
	tab[11][8] = 32;
	tab[11][9] = 179;

	tab[12][0] = 179;
	tab[12][1] = 32;
	tab[12][2] = 32;
	tab[12][3] = 32;
	tab[12][4] = 32;
	tab[12][5] = 32;
	tab[12][6] = 32;
	tab[12][7] = 32;
	tab[12][8] = 32;
	tab[12][9] = 179;

	tab[13][0] = 179;
	tab[13][1] = 32;
	tab[13][2] = 32;
	tab[13][3] = 32;
	tab[13][4] = 32;
	tab[13][5] = 32;
	tab[13][6] = 32;
	tab[13][7] = 32;
	tab[13][8] = 32;
	tab[13][9] = 179;

	tab[14][0] = 179;
	tab[14][1] = 32;
	tab[14][2] = 32;
	tab[14][3] = 32;
	tab[14][4] = 32;
	tab[14][5] = 32;
	tab[14][6] = 32;
	tab[14][7] = 32;
	tab[14][8] = 32;
	tab[14][9] = 179;

	tab[15][0] = 179;
	tab[15][1] = 32;
	tab[15][2] = 32;
	tab[15][3] = 32;
	tab[15][4] = 32;
	tab[15][5] = 32;
	tab[15][6] = 32;
	tab[15][7] = 32;
	tab[15][8] = 32;
	tab[15][9] = 179;

	tab[16][0] = 179;
	tab[16][1] = 32;
	tab[16][2] = 32;
	tab[16][3] = 32;
	tab[16][4] = 32;
	tab[16][5] = 32;
	tab[16][6] = 32;
	tab[16][7] = 32;
	tab[16][8] = 32;
	tab[16][9] = 179;

	tab[17][0] = 179;
	tab[17][1] = 32;
	tab[17][2] = 32;
	tab[17][3] = 32;
	tab[17][4] = 32;
	tab[17][5] = 32;
	tab[17][6] = 32;
	tab[17][7] = 32;
	tab[17][8] = 32;
	tab[17][9] = 179;

	tab[18][0] = 179;
	tab[18][1] = 32;
	tab[18][2] = 32;
	tab[18][3] = 32;
	tab[18][4] = 32;
	tab[18][5] = 32;
	tab[18][6] = 32;
	tab[18][7] = 32;
	tab[18][8] = 32;
	tab[18][9] = 179;

	tab[19][0] = 179;
	tab[19][1] = 32;
	tab[19][2] = 32;
	tab[19][3] = 32;
	tab[19][4] = 32;
	tab[19][5] = 32;
	tab[19][6] = 32;
	tab[19][7] = 32;
	tab[19][8] = 32;
	tab[19][9] = 179;

	tab[20][0] = 179;
	tab[20][1] = 32;
	tab[20][2] = 32;
	tab[20][3] = 32;
	tab[20][4] = 32;
	tab[20][5] = 32;
	tab[20][6] = 32;
	tab[20][7] = 32;
	tab[20][8] = 32;
	tab[20][9] = 179;

	tab[21][0] = 195;
	tab[21][1] = 196;
	tab[21][2] = 196;
	tab[21][3] = 196;
	tab[21][4] = 196;
	tab[21][5] = 196;
	tab[21][6] = 196;
	tab[21][7] = 196;
	tab[21][8] = 196;
	tab[21][9] = 180;

	tab[22][0] = 179;
	tab[22][1] = 87;
	tab[22][2] = 97;
	tab[22][3] = 114;
	tab[22][4] = 99;
	tab[22][5] = 114;
	tab[22][6] = 97;
	tab[22][7] = 102;
	tab[22][8] = 116;
	tab[22][9] = 179;

	tab[23][0] = 179;
	tab[23][1] = 32;
	tab[23][2] = 32;
	tab[23][3] = 86;
	tab[23][4] = 49;
	tab[23][5] = 46;
	tab[23][6] = 48;
	tab[23][7] = 32;
	tab[23][8] = 32;
	tab[23][9] = 179;

	tab[24][0] = 192;
	tab[24][1] = 196;
	tab[24][2] = 196;
	tab[24][3] = 196;
	tab[24][4] = 196;
	tab[24][5] = 196;
	tab[24][6] = 196;
	tab[24][7] = 196;
	tab[24][8] = 196;
	tab[24][9] = 217;
}
